3:I[55092,[],""]
5:I[82023,[],""]
4:["slug","guides/set-optimization","c"]
0:["dxU3NYBH1-VF1n9d-FRuG",[[["",{"children":["(content)",{"children":["docs",{"children":[["slug","guides/set-optimization","c"],{"children":["__PAGE__?{\"slug\":[\"guides\",\"set-optimization\"]}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(content)",{"children":["docs",{"children":[["slug","guides/set-optimization","c"],{"children":["__PAGE__",{},[["$L1","$L2",null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","docs","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","docs","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,"$L6"],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/documentation/pr-3223/_next/static/css/737463ebd1d861fc.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/documentation/pr-3223/_next/static/css/5f12dabf24b5622e.css","precedence":"next","crossOrigin":"$undefined"}]],"$L7"],null],null],["$L8",null]]]]
9:I[82443,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"ThemeNoFlash"]
a:I[35532,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"ThemeProvider"]
b:I[18025,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"TooltipProvider"]
c:I[86349,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"ReactQueryProvider"]
d:I[7356,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"Header"]
e:I[73027,["294","static/chunks/294-cddf4b885f0071af.js","601","static/chunks/app/error-a3d405c9c8a469e6.js"],"default"]
f:I[1795,["294","static/chunks/294-cddf4b885f0071af.js","160","static/chunks/app/not-found-f391f0ce1b38209a.js"],"Error"]
10:I[82428,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","237","static/chunks/237-a9d7c7446b1bba5f.js","677","static/chunks/677-78aacf2ef22ee39e.js","809","static/chunks/809-013ab6dd01c564f5.js","185","static/chunks/app/layout-961428596f2e4276.js"],"AppFooter"]
11:I[77406,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","294","static/chunks/294-cddf4b885f0071af.js","656","static/chunks/656-2486df3253839598.js","237","static/chunks/237-a9d7c7446b1bba5f.js","4","static/chunks/4-d002ebe342119222.js","354","static/chunks/app/(content)/docs/%5B...slug%5D/page-e78831fbc42d68e8.js"],"MdTabsGroupContextProvider"]
12:I[4544,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","656","static/chunks/656-2486df3253839598.js","677","static/chunks/677-78aacf2ef22ee39e.js","688","static/chunks/688-88462529b194d538.js","948","static/chunks/app/(content)/layout-36dde8be1eb3ed35.js"],"DocLeftNav"]
7:["$","html",null,{"lang":"en","suppressHydrationWarning":true,"className":"__variable_ea9b79 __variable_6c0e00 font-sans","children":["$","body",null,{"children":[["$","$L9",null,{}],["$","$La",null,{"cookieThemeDomain":"","children":["$","$Lb",null,{"children":["$","$Lc",null,{"children":[["$","$Ld",null,{}],["$","div",null,{"className":"pt-[var(--app-header-height)]","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$e","errorStyles":[],"errorScripts":[],"template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$Lf",null,{"title":"Page not found","description":"Sorry, but the page you were looking for could not be found."}],"notFoundStyles":[]}]}],["$","$L10",null,{}]]}]}]}]]}]}]
6:["$","$L11",null,{"children":["$","div",null,{"className":"flex relative","children":[["$","$L12",null,{"tocPaths":["/docs/guides","/docs/migration-guides","/docs/open-source","/docs/tutorials","/learning/courses/basics-of-quantum-information","/learning/courses/foundations-of-quantum-error-correction","/learning/courses/fundamentals-of-quantum-algorithms","/learning/courses/general-formulation-of-quantum-information","/learning/courses/quantum-business-foundations","/learning/courses/quantum-chem-with-vqe","/learning/courses/quantum-computing-in-practice","/learning/courses/quantum-diagonalization-algorithms","/learning/courses/quantum-machine-learning","/learning/courses/quantum-safe-cryptography","/learning/courses/utility-scale-quantum-computing","/learning/courses/variational-algorithm-design","/learning/modules/computer-science","/learning/modules/quantum-mechanics"],"endpointsPrefix":""}],["$","div",null,{"className":"flex-1","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]}]]}]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Preview: Set transpiler optimization level"}],["$","meta","3",{"name":"description","content":"How to set the optimization level for transpiling quantum circuits in Qiskit."}],["$","meta","4",{"name":"robots","content":"none"}],["$","meta","5",{"property":"og:title","content":"Set transpiler optimization level | IBM Quantum Documentation"}],["$","meta","6",{"property":"og:description","content":"How to set the optimization level for transpiling quantum circuits in Qiskit."}],["$","meta","7",{"property":"og:site_name","content":"IBM Quantum Documentation"}],["$","meta","8",{"property":"og:type","content":"website"}],["$","meta","9",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","10",{"name":"twitter:creator","content":"@IBM"}],["$","meta","11",{"name":"twitter:title","content":"Set transpiler optimization level | IBM Quantum Documentation"}],["$","meta","12",{"name":"twitter:description","content":"How to set the optimization level for transpiling quantum circuits in Qiskit."}],["$","link","13",{"rel":"icon","href":"/favicon.ico"}],["$","meta","14",{"name":"next-size-adjust"}]]
1:null
13:I[95676,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","294","static/chunks/294-cddf4b885f0071af.js","656","static/chunks/656-2486df3253839598.js","237","static/chunks/237-a9d7c7446b1bba5f.js","4","static/chunks/4-d002ebe342119222.js","354","static/chunks/app/(content)/docs/%5B...slug%5D/page-e78831fbc42d68e8.js"],"Pre"]
14:I[16340,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","294","static/chunks/294-cddf4b885f0071af.js","656","static/chunks/656-2486df3253839598.js","237","static/chunks/237-a9d7c7446b1bba5f.js","4","static/chunks/4-d002ebe342119222.js","354","static/chunks/app/(content)/docs/%5B...slug%5D/page-e78831fbc42d68e8.js"],""]
1b:I[54795,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","294","static/chunks/294-cddf4b885f0071af.js","656","static/chunks/656-2486df3253839598.js","237","static/chunks/237-a9d7c7446b1bba5f.js","4","static/chunks/4-d002ebe342119222.js","354","static/chunks/app/(content)/docs/%5B...slug%5D/page-e78831fbc42d68e8.js"],"Image"]
1c:I[36486,["705","static/chunks/8bb4d8db-33f926d375a712e2.js","340","static/chunks/340-9ac68f894e4668ba.js","776","static/chunks/776-58ba0becc3fa6b06.js","294","static/chunks/294-cddf4b885f0071af.js","656","static/chunks/656-2486df3253839598.js","237","static/chunks/237-a9d7c7446b1bba5f.js","4","static/chunks/4-d002ebe342119222.js","354","static/chunks/app/(content)/docs/%5B...slug%5D/page-e78831fbc42d68e8.js"],"PageToc"]
16:{"d":"M10 6L10 8 22.59 8 6 24.59 7.41 26 24 9.41 24 22 26 22 26 6 10 6z"}
15:["$","path",null,"$16"]
18:{"d":"M29.25,6.76a6,6,0,0,0-8.5,0l1.42,1.42a4,4,0,1,1,5.67,5.67l-8,8a4,4,0,1,1-5.67-5.66l1.41-1.42-1.41-1.42-1.42,1.42a6,6,0,0,0,0,8.5A6,6,0,0,0,17,25a6,6,0,0,0,4.27-1.76l8-8A6,6,0,0,0,29.25,6.76Z"}
17:["$","path",null,"$18"]
1a:{"d":"M4.19,24.82a4,4,0,0,1,0-5.67l8-8a4,4,0,0,1,5.67,0A3.94,3.94,0,0,1,19,14a4,4,0,0,1-1.17,2.85L15.71,19l1.42,1.42,2.12-2.12a6,6,0,0,0-8.51-8.51l-8,8a6,6,0,0,0,0,8.51A6,6,0,0,0,7,28a6.07,6.07,0,0,0,4.28-1.76L9.86,24.82A4,4,0,0,1,4.19,24.82Z"}
19:["$","path",null,"$1a"]
2:["$","div",null,{"className":"grid grid-cols-[1fr,auto] relative","children":[["$","div",null,{"className":"min-h-app max-w-[var(--main-container-max-width)]","children":[["$","div",null,{"className":"pt-16 px-16 xlg:px-32 bg-layer z-10 sticky top-[var(--app-header-height)] flex flex-col gap-[12px]","children":["$","div",null,{"className":"rounded border border-yellow-30/30 dark:border-yellow-30 bg-yellow-10 dark:bg-cool-gray-100","children":["$","div",null,{"className":"flex items-start gap-8 px-16 py-[12px]","children":[["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"var(--cds-support-warning)","aria-hidden":true,"width":"16","height":"16","viewBox":"0 0 16 16","className":"flex-shrink-0 mt-[1px] [&_path[data-icon-path='inner-path']]:fill-[#000] [&_path[data-icon-path='inner-path']]:opacity-100","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M8,1C4.2,1,1,4.2,1,8s3.2,7,7,7s7-3.1,7-7S11.9,1,8,1z M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2 c-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z"}],["$","path",null,{"d":"M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2c-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8 c0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z","data-icon-path":"inner-path","opacity":"0"}],"$undefined"]}],["$","div",null,{"className":"text-body-01 text-text-primary","children":[["$","span",null,{"className":"text-heading-compact-01","children":"This is a preview build of IBM QuantumÂ® documentation."}]," ","Refer to ",["$","a",null,{"children":["quantum.cloud.ibm.com/docs",["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","aria-label":"(opens in a new tab)","width":16,"height":16,"viewBox":"0 0 32 32","role":"img","className":"inline ml-2","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M10 6L10 8 22.59 8 6 24.59 7.41 26 24 9.41 24 22 26 22 26 6 10 6z"}],"$undefined"]}]],"href":"https://quantum.cloud.ibm.com/docs","className":"text-link-primary no-underline hover:underline inline","target":"_blank"}]," for the official documentation."]}]]}]}]}],["$","main",null,{"id":"main-content","className":"mx-16 md:mx-96 lg:mx-[56px] xlg:mx-96 pb-96 pt-0 max-w-full md:max-w-[800px] overflow-x-auto","children":["$","div",null,{"className":"prose","children":[["\n",["$","h1",null,{"id":"set-transpiler-optimization-level","className":"group relative mx-0 scroll-pt-[var(--shell-top-bar-height)] break-words text-heading-06 text-text-primary","children":["Set transpiler optimization level",["$","a",null,{"title":"Permalink to this headline","children":["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 32 32","aria-hidden":true,"className":"inline","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M29.25,6.76a6,6,0,0,0-8.5,0l1.42,1.42a4,4,0,1,1,5.67,5.67l-8,8a4,4,0,1,1-5.67-5.66l1.41-1.42-1.41-1.42-1.42,1.42a6,6,0,0,0,0,8.5A6,6,0,0,0,17,25a6,6,0,0,0,4.27-1.76l8-8A6,6,0,0,0,29.25,6.76Z"}],["$","path",null,{"d":"M4.19,24.82a4,4,0,0,1,0-5.67l8-8a4,4,0,0,1,5.67,0A3.94,3.94,0,0,1,19,14a4,4,0,0,1-1.17,2.85L15.71,19l1.42,1.42,2.12-2.12a6,6,0,0,0-8.51-8.51l-8,8a6,6,0,0,0,0,8.51A6,6,0,0,0,7,28a6.07,6.07,0,0,0,4.28-1.76L9.86,24.82A4,4,0,0,1,4.19,24.82Z"}],"$undefined"]}],"href":"#set-transpiler-optimization-level","className":"text-link-primary no-underline hover:underline inline heading-permalink pl-[8px] top-0 opacity-0 group-hover:opacity-100 transition-[opacity] duration-75 ease-[cubic-bezier(0.2,0,0.38,0.9)]"}]]}],"\n",["$","details",null,{"className":"group [&>p]:px-24 [&>ul]:pl-24 [&>ol]:pl-12 [&>.snippet]:ml-24 [&>table]:ml-24","children":[["$","summary",null,{"className":"not-prose flex gap-8 list-none [&::-webkit-details-marker]:hidden cursor-pointer","children":[["$","div",null,{"className":"group-open:hidden pt-4","children":["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 16 16","aria-hidden":true,"xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"}],"$undefined"]}]}],["$","div",null,{"className":"hidden group-open:block pt-4","children":["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 16 16","aria-hidden":true,"xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"}],"$undefined"]}]}],["$","div",null,{"children":["$","b",null,{"children":"Package versions"}]}]]}],["$","p",null,{"children":"The code on this page was developed using the following requirements.\nWe recommend using these versions or newer.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],["$","$L13",null,{"children":["$","code",null,{"children":"qiskit[all]~=2.0.0\nqiskit-ibm-runtime~=0.37.0\n","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]]}],"\n",["$","p",null,{"children":["Real quantum devices are subject to noise and gate errors, so optimizing the circuits to reduce their depth and gate count can significantly improve the results obtained from executing those circuits.\nThe ",["$","$L14",null,{"children":["$","code",null,{"children":"generate_preset_pass_manager","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],"href":"/docs/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager","className":"text-link-primary no-underline hover:underline inline"}]," function has one required positional argument, ",["$","code",null,{"children":"optimization_level","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],", that controls how much effort the transpiler spends on optimizing circuits. This argument can be an integer taking one of the values 0, 1, 2, or 3.\nHigher optimization levels generate more optimized circuits at the expense of longer compile times.\nThe following table explains the optimizations performed with each setting."],"className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"className":"w-full overflow-x-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Optimization Level","className":"text-heading-compact-01 border-layer-02 border-t p-12 m-0 text-left empty:hidden"}],["$","th",null,{"children":"Description","className":"text-heading-compact-01 border-layer-02 border-t p-12 m-0 text-left empty:hidden"}]],"className":"border-layer-02 border-b"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"0","className":"p-12 m-0"}],["$","td",null,{"children":[["$","p",null,{"children":"No optimization: typically used for hardware characterization","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],["$","ul",null,{"children":["\n",["$","li",null,{"children":"Basic translation","className":"my-12"}],"\n",["$","li",null,{"children":["Layout/Routing: ",["$","code",null,{"children":"TrivialLayout","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],", where it selects the same physical qubit numbers as virtual and inserts SWAPs to make it work (using ",["$","code",null,{"children":"SabreSwap","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],")"],"className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}]],"className":"p-12 m-0"}]],"className":"border-layer-02 border-b"}],["$","tr",null,{"children":[["$","td",null,{"children":"1","className":"p-12 m-0"}],["$","td",null,{"children":[["$","p",null,{"children":"Light optimization:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],["$","ul",null,{"children":["\n",["$","li",null,{"children":["Layout/Routing: Layout is first attempted with ",["$","code",null,{"children":"TrivialLayout","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],". If additional SWAPs are required, a layout with a minimum number of SWAPs is found by using ",["$","code",null,{"children":"SabreSwap","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],", then it uses ",["$","code",null,{"children":"VF2LayoutPostLayout","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]," to try to select the best qubits in the graph."],"className":"my-12"}],"\n",["$","li",null,{"children":["$","code",null,{"children":"InverseCancellation","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],"className":"my-12"}],"\n",["$","li",null,{"children":"1Q gate optimization","className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}]],"className":"p-12 m-0"}]],"className":"border-layer-02 border-b"}],["$","tr",null,{"children":[["$","td",null,{"children":"2","className":"p-12 m-0"}],["$","td",null,{"children":[["$","p",null,{"children":"Medium optimization:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],["$","ul",null,{"children":["\n",["$","li",null,{"children":["Layout/Routing: Optimization level 1 (without trivial) + heuristic optimized with greater\nsearch depth and trials of optimization function.  Because ",["$","code",null,{"children":"TrivialLayout","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]," is not used, there is no attempt to use the same physical and virtual qubit numbers."],"className":"my-12"}],"\n",["$","li",null,{"children":["$","code",null,{"children":"CommutativeCancellation","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],"className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}]],"className":"p-12 m-0"}]],"className":"border-layer-02 border-b"}],["$","tr",null,{"children":[["$","td",null,{"children":"3","className":"p-12 m-0"}],["$","td",null,{"children":[["$","p",null,{"children":"High Optimization:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],["$","ul",null,{"children":["\n",["$","li",null,{"children":"Optimization level 2 + heuristic optimized on layout/routing further with greater effort/trials","className":"my-12"}],"\n",["$","li",null,{"children":["Resynthesis of two-qubit blocks using ",["$","a",null,{"children":["Cartan's KAK Decomposition",["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","aria-label":"(opens in a new tab)","width":16,"height":16,"viewBox":"0 0 32 32","role":"img","className":"inline ml-2","xmlns":"http://www.w3.org/2000/svg","children":["$15","$undefined"]}]],"href":"https://arxiv.org/abs/quant-ph/0507171","className":"text-link-primary no-underline hover:underline inline","target":"_blank","rel":"noopener nofollow noreferrer"}],"."],"className":"my-12"}],"\n",["$","li",null,{"children":["Unitarity-breaking passes:","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"OptimizeSwapBeforeMeasure","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],": Moves the measurements around to avoid SWAPs"],"className":"my-12"}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"RemoveDiagonalGatesBeforeMeasure","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}],": Removes gates before measurements that would not effect the measurements"],"className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}],"\n"],"className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}]],"className":"p-12 m-0"}]],"className":"border-layer-02 border-b"}]]}]],"className":"inline-block mx-auto md:mx-0 max-w-full border border-border-subtle-00 border-spacing-0 whitespace-nowrap md:whitespace-normal overflow-x-auto md:tabular-nums text-text-primary"}]}],"\n",[["$","hr",null,{"className":"mt-48 lg:mt-64 mb-16 md:mb-24 my-16 lg:my-24 border-t border-border-subtle box-content overflow-visible"}],["$","h2",null,{"id":"optimization-level-in-action","className":"group relative mx-0 scroll-pt-[var(--shell-top-bar-height)] break-words text-heading-04 text-text-primary","children":["Optimization level in action",["$","a",null,{"title":"Permalink to this headline","children":["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 32 32","aria-hidden":true,"className":"inline","xmlns":"http://www.w3.org/2000/svg","children":["$17","$19","$undefined"]}],"href":"#optimization-level-in-action","className":"text-link-primary no-underline hover:underline inline heading-permalink pl-[8px] top-0 opacity-0 group-hover:opacity-100 transition-[opacity] duration-75 ease-[cubic-bezier(0.2,0,0.38,0.9)]"}]]}]],"\n",["$","p",null,{"children":"Since two-qubit gates are typically the most significant source of errors, we can approximately quantify the transpilation's \"hardware efficiency\" by counting the number of two-qubit gates in the resulting circuit.\nHere, we'll try the different optimization levels on an input circuit consisting of a random unitary followed by a SWAP gate.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"2","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" QuantumCircuit"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"circuit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"library "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" UnitaryGate"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"quantum_info "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" Operator"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":","}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" random_unitary"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"UU "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"random_unitary"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"4"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", seed"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"rand_U "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"UnitaryGate"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(UU)"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"QuantumCircuit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"2"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"append"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(rand_U, "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"range"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"2"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"))"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"swap"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"0"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"1"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", style"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"iqp\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/81173ebc-8359-48a6-b585-0477907b3b93-0.svg","alt":"Output of the previous code cell","width":"293","height":"168"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":["We'll use the ",["$","code",null,{"children":"FakeSherbrooke","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]," mock backend in our examples. First, let's transpile using optimization level 0."],"className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"2","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"transpiler "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" generate_preset_pass_manager"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit_ibm_runtime"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"fake_provider "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" FakeSherbrooke"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"backend "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"FakeSherbrooke"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"()"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"pass_manager "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"generate_preset_pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    optimization_level"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"0"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", backend"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"backend, seed_transpiler"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t1_exact "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"run"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t1_exact"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", idle_wires"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"False"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/40cdd173-b437-48b1-8928-741e8411342e-0.svg","alt":"Output of the previous code cell","width":"1692","height":"363"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":"The transpiled circuit has six of the two-qubit ECR gates.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","p",null,{"children":"Repeat for optimization level 1:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"2","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"transpiler "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" generate_preset_pass_manager"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"from"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" qiskit_ibm_runtime"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"fake_provider "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" FakeSherbrooke"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"backend "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"FakeSherbrooke"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"()"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"pass_manager "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"generate_preset_pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    optimization_level"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"1"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", backend"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"backend, seed_transpiler"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t1_exact "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"run"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t1_exact"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", idle_wires"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"False"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/2dab5def-a017-42e9-92d6-e043ac4065b2-0.svg","alt":"Output of the previous code cell","width":"1692","height":"363"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":"The transpiled circuit still has six ECR gates, but the number of single-qubit gates has reduced.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","p",null,{"children":"Repeat for optimization level 2:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"pass_manager "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"generate_preset_pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    optimization_level"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"2"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", backend"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"backend, seed_transpiler"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t2_exact "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"run"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t2_exact"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", idle_wires"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"False"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/77d76048-b1e8-4225-b35f-80dc9d458e8d-0.svg","alt":"Output of the previous code cell","width":"1383","height":"178"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":"This yields the same results as optimization level 1. Note that increasing the level of optimization does not always make a difference.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","p",null,{"children":"Repeat again, with optimization level 3:","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"pass_manager "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"generate_preset_pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    optimization_level"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"3"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", backend"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"backend, seed_transpiler"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_exact "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"run"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_exact"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", idle_wires"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"False"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/4109d0e2-df37-4850-8409-6b860c48595c-0.svg","alt":"Output of the previous code cell","width":"1383","height":"178"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":["Now, there are only three ECR gates. We obtain this result because at optimization level 3, Qiskit tries to re-synthesize two-qubit blocks of gates, and any two-qubit gate can be implemented using at most three ECR gates. We can get even fewer ECR gates if we set ",["$","code",null,{"children":"approximation_degree","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]," to a value less than 1, allowing the transpiler to make approximations that may introduce some error in the gate decomposition (see ",["$","$L14",null,{"children":"Commonly used parameters for transpilation","href":"/guides/common-parameters#approximation-degree","className":"text-link-primary no-underline hover:underline inline"}],"):"],"className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"1","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"pass_manager "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"generate_preset_pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    optimization_level"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"3"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    approximation_degree"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"0.99"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    backend"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"backend,"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    seed_transpiler"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"12345"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_approx "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" pass_manager"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"run"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_approx"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"draw"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"mpl\""}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":", idle_wires"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"False"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L1b",null,{"src":"/documentation/pr-3223/docs/images/guides/set-optimization/extracted-outputs/bf239116-b8bb-42aa-a27a-89206d9e108a-0.svg","alt":"Output of the previous code cell","width":"1136","height":"178"}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":"This circuit has only two ECR gates, but it's an approximate circuit. To understand how its effect differs from the exact circuit, we can calculate the fidelity between the unitary operator this circuit implements, and the exact unitary. Before performing the computation, we first reduce the transpiled circuit, which contains 127 qubits, down to a circuit that only contains the active qubits, of which there are two.","className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L13",null,{"style":{"backgroundColor":"var(--shiki-color-background)"},"tabIndex":"0","data-language":"python","data-theme":"default","children":["$","code",null,{"data-line-numbers":"","data-language":"python","data-theme":"default","data-line-numbers-max-digits":"2","children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"import"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" numpy "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"as"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" np"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"def"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"trace_to_fidelity_2q"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-parameter)"},"children":"trace"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":":"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"float"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":") "}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"->"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"float"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"    "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"return"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" ("}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"4.0"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"+"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" trace "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"*"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" trace"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"conjugate"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"()"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":") "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"/"}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"20.0"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-comment)"},"children":"# Reduce circuits down to 2 qubits so they are easy to simulate"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_exact_small "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" QuantumCircuit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"from_instructions"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc_t3_exact)"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"qc_t3_approx_small "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" QuantumCircuit"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"from_instructions"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc_t3_approx)"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-comment)"},"children":"# Compute the fidelity"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"exact_fid "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"trace_to_fidelity_2q"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    np."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"trace"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(np."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"dot"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"Operator"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc_t3_exact_small)."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"adjoint"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"().data, UU))"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":"approx_fid "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"="}],["$","span",null,{"style":{"color":"var(--shiki-color-text)"},"children":" "}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"trace_to_fidelity_2q"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    np."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"trace"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(np."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"dot"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"Operator"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"(qc_t3_approx_small)."}],["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"adjoint"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"().data, UU))"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-function)"},"children":"print"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"    "}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":"f"}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\"Synthesis fidelity"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"\\n"}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"Exact: "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"{"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"exact_fid"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":":.3f"}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"}"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"\\n"}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"Approximate: "}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"{"}],["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":"approx_fid"}],["$","span",null,{"style":{"color":"var(--shiki-token-keyword)"},"children":":.3f"}],["$","span",null,{"style":{"color":"var(--shiki-token-constant)"},"children":"}"}],["$","span",null,{"style":{"color":"var(--shiki-token-string-expression)"},"children":"\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"var(--shiki-token-punctuation)"},"children":")"}]}]],"className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}]}],"\n",["$","p",null,{"className":"text-text-helper text-label-01","children":"Output:"}],"\n",["$","$L13",null,{"children":["$","code",null,{"children":"Synthesis fidelity\nExact: 1.000+0.000j\nApproximate: 0.992+0.000j\n","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]}],"\n",["$","div",null,{"className":"mt-32"}],"\n",["$","p",null,{"children":["Adjusting the optimization level can change other aspects of the circuit too, not just the number of ECR gates. For examples of how setting optimization level changes the layout, see ",["$","$L14",null,{"children":"Representing quantum computers","href":"/guides/./represent-quantum-computers","className":"text-link-primary no-underline hover:underline inline"}],"."],"className":"group paragraph-el text-text-primary mx-0 has-[span.katex]:overflow-x-auto has-[span.katex]:overflow-y-hidden"}],"\n",[["$","hr",null,{"className":"mt-48 lg:mt-64 mb-16 md:mb-24 my-16 lg:my-24 border-t border-border-subtle box-content overflow-visible"}],["$","h2",null,{"id":"next-steps","className":"group relative mx-0 scroll-pt-[var(--shell-top-bar-height)] break-words text-heading-04 text-text-primary","children":["Next steps",["$","a",null,{"title":"Permalink to this headline","children":["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 32 32","aria-hidden":true,"className":"inline","xmlns":"http://www.w3.org/2000/svg","children":["$17","$19","$undefined"]}],"href":"#next-steps","className":"text-link-primary no-underline hover:underline inline heading-permalink pl-[8px] top-0 opacity-0 group-hover:opacity-100 transition-[opacity] duration-75 ease-[cubic-bezier(0.2,0,0.38,0.9)]"}]]}]],"\n",["$","div",null,{"className":"not-prose my-12 lg:my-16 rounded border border-solid border-layer-02","children":[["$","div",null,{"className":"bg-layer-02 text-text-primary font-600 p-12 py-8 flex items-center gap-8","children":[["$","svg",null,{"focusable":"false","preserveAspectRatio":"xMidYMid meet","fill":"currentColor","width":16,"height":16,"viewBox":"0 0 32 32","aria-hidden":true,"className":"text-purple-50","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M11 24H21V26H11zM13 28H19V30H13zM16 2A10 10 0 006 12a9.19 9.19 0 003.46 7.62c1 .93 1.54 1.46 1.54 2.38h2c0-1.84-1.11-2.87-2.19-3.86A7.2 7.2 0 018 12a8 8 0 0116 0 7.2 7.2 0 01-2.82 6.14c-1.07 1-2.18 2-2.18 3.86h2c0-.92.53-1.45 1.54-2.39A9.18 9.18 0 0026 12 10 10 0 0016 2z"}],"$undefined"]}],"Recommendations"]}],["$","div",null,{"className":"px-12 [&>p]:my-12","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":["To learn more about the ",["$","code",null,{"children":"generate_preset_passmanager","className":"text-code-02 inline whitespace-nowrap px-4 bg-background border border-transparent dark:border-border-subtle-00 group-[.pre-el]:text-code-02 group-[.pre-el]:inline-block group-[.pre-el]:whitespace-pre group-[.pre-el]:p-12 group-[.pre-el]:pr-[50px] group-[.pre-el]:bg-inherit dark:group-[.pre-el]:border-transparent group-[.paragraph-el]:whitespace-normal"}]," function, start with the ",["$","$L14",null,{"children":"Transpilation default settings and configuration options","href":"/guides/defaults-and-configuration-options","className":"text-link-primary no-underline hover:underline inline"}]," topic."],"className":"my-12"}],"\n",["$","li",null,{"children":["Continue learning about transpilation with the ",["$","$L14",null,{"children":"Transpiler stages","href":"/guides/transpiler-stages","className":"text-link-primary no-underline hover:underline inline"}]," topic."],"className":"my-12"}],"\n",["$","li",null,{"children":["Try the ",["$","$L14",null,{"children":"Compare transpiler settings","href":"/docs/tutorials/circuit-transpilation-settings","className":"text-link-primary no-underline hover:underline inline"}]," tutorial."],"className":"my-12"}],"\n",["$","li",null,{"children":["Try the ",["$","$L14",null,{"children":"Build repetition codes","href":"/docs/tutorials/repetition-codes","className":"text-link-primary no-underline hover:underline inline"}]," tutorial."],"className":"my-12"}],"\n",["$","li",null,{"children":["See the ",["$","$L14",null,{"children":"Transpile API documentation.","href":"/docs/api/qiskit/transpiler","className":"text-link-primary no-underline hover:underline inline"}]],"className":"my-12"}],"\n"],"className":"list-outside ml-16 px-16 list-disc"}]}]]}]],"$undefined"]}]}]]}],["$","aside",null,{"data-testid":"page-toc","className":"hidden lg:flex flex-col gap-40 w-[var(--right-toc-menu-width)] mr-[var(--right-toc-margin-right)] sticky top-[var(--app-header-height)] self-start py-24","style":{"marginTop":"40px","maxHeight":"calc(100vh - var(--app-header-height) - 40px)"},"children":["$","$L1c",null,{"headings":[{"depth":1,"value":"Set transpiler optimization level","compiledValue":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {jsx: _jsx} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    div: \"div\"\n  }, props.components);\n  return _jsx(_components.div, {\n    children: \"Set transpiler optimization level\"\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","id":"set-transpiler-optimization-level"},{"depth":2,"value":"Optimization level in action","compiledValue":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {jsx: _jsx} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    div: \"div\"\n  }, props.components);\n  return _jsx(_components.div, {\n    children: \"Optimization level in action\"\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","id":"optimization-level-in-action"},{"depth":2,"value":"Next steps","compiledValue":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {jsx: _jsx} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    div: \"div\"\n  }, props.components);\n  return _jsx(_components.div, {\n    children: \"Next steps\"\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","id":"next-steps"}],"minHeadingLevel":2,"maxHeadingLevel":3}]}]]}]
